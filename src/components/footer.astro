---
import { Image } from "astro:assets";

import { getCollection } from "astro:content";
const posts = await getCollection("posts");
---

<footer>
  <!--Footer content-->
  <div
    class="py-8 border-b border-dashed bg-neutral-100 text-neutral-700 md:py-12 border-neutral-200"
  >
    <div class="container px-4 mx-auto xl:max-w-6xl">
      <div class="grid grid-cols-1 gap-4 md:grid-cols-3 md:gap-6">
        <!-- widget -->
        <div class="flex relative flex-col gap-3">
          <h3
            class="pb-2 text-lg font-medium border-b border-dashed border-neutral-200"
          >
            About Us
          </h3>
          <p>
            At voumy, we believe in the power of sharing ideas and experiencs.
            We prioritize quality content crafted by passionate writers,
            commited to deliver reliable information.
          </p>
          <p class="footer-info">
            <i class="bi bi-envelope me-2"></i><a
              href="mailto:voumyblog@gmail.com"
              class="pl-1 font-semibold underline">voumyblog@gmail.com</a
            >
          </p>
        </div>

        <!-- widget -->
        <div class="flex relative flex-col gap-3">
          <h3
            class="pb-2 text-lg font-medium border-b border-dashed border-neutral-200"
          >
            Featured Posts
          </h3>
          <div class="flex overflow-y-scroll flex-col max-h-60">
            {
              posts.map((post) => (
                <a
                  href={post.slug}
                  class="flex gap-2 py-3 border-b border-dashed last:border-b-0 border-neutral-200"
                >
                  <img
                    src={`/img/blogs/${post.slug}/${post.data.coverImage}`}
                    alt="image"
                    class="size-16"
                    height={64}
                    width={64}
                  />
                  <div class="flex flex-col gap-1">
                    <h4 class="text-sm capitalize hover:text-black">
                      {post.data.title}
                    </h4>
                    <span class="text-sm text-neutral-500">
                      {post.data.dateOfPublishing.toLocaleDateString()}
                    </span>
                  </div>
                </a>
              ))
            }
          </div>
        </div>

        <!-- widget -->
        <div class="flex relative flex-col gap-3">
          <h3
            class="pb-2 text-lg font-medium border-b border-dashed border-neutral-200"
          >
            Popular Posts
          </h3>
          <div class="flex overflow-y-scroll flex-col max-h-60">
            {
              posts.map((post) => (
                <a
                  href={post.slug}
                  class="py-3 border-b border-dashed last:border-b-0 border-neutral-200"
                >
                  <div class="flex flex-col gap-1">
                    <h4 class="text-sm font-medium capitalize hover:text-black">
                      {post.data.title}
                    </h4>
                    <span class="text-sm text-neutral-500">
                      {post.data.dateOfPublishing.toLocaleDateString()}
                    </span>
                  </div>
                </a>
              ))
            }
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- footer copyright menu -->
  <div class="py-6 text-sm bg-neutral-100 text-neutral-700 sm:py-4">
    <div class="container px-4 mx-auto xl:max-w-6xl">
      <!--footer menu-->
      <div class="flex gap-3 items-center max-sm:flex-col sm:justify-between">
        <!--footer left menu-->
        <ul class="flex items-center max-sm:flex-wrap max-sm:justify-center">
          <li class="relative">
            <a href="/" class="px-4 py-2 first:ps-0 hover:text-black">Home</a>
          </li>
          <li class="relative">
            <a href="/about" class="px-4 py-2 first:ps-0 hover:text-black"
              >About</a
            >
          </li>
          <li class="relative">
            <a href="/contact" class="px-4 py-2 first:ps-0 hover:text-black"
              >Contact</a
            >
          </li>
        </ul>

        <!-- footer copyright -->
        <div class="relative">
          <p>
            Copyright Voumy | A Gift by <a
              href="https://rayyannafees.github.io"
              target="_blank">Rayyan Nafees</a
            >
          </p>
          <!-- removing credit with small donation really helps us. Get pro version for more features -->
        </div>
      </div>
    </div>
  </div>
</footer>
